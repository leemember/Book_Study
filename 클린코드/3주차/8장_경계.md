## 8장. 경계

<br >

### 🟠 외부 코드 사용하기

패키지 제공자나 프레임워크 제공자는 적용성을 최대한 넓히려고 애쓴다.

한 예로, Map을 살펴보자. 이는 굉장히 다양한 인터페이스로 수많은 기능을 제공한다.

Map이 제공하는 기능성과 유연성은 확실히 유용하지만 그만큼 위험도 크다.

```java
Map sensors = new HashMap();
```

Sensor 객체가 필요한 코드는 다음과 같이 Sensor 객체를 가져온다.

```java
Sensor s = (Sensor)sensors.get(sensorId);
```

이와 같은 코드는 깨끗한 코드라 보기가 어렵다. 제네릭스를 사용하면 코드 가독성이 크게 높아진다.

```java
Map<String, Sensor> sensors = new HashMap<Sensor>();
```

ps. Java라 뭔소린지 이해가 … 암튼 제네릭스를 사용하면 가독성이 높아진다에 중점을 두면 될듯

<br >

---

### 🟠 경계 살피고 익히기

외부 코드를 사용하면 적은 시간에 더 많은 기능을 출시하기 쉬워진다.

#### 만약 외부에서 가져온 패키지를 사용하고 싶다면 어디서 어떻게 시작하면 좋을까?

- 우리 자신을 위해 우리가 사용할 코드를 테스트하는 편이 바람직하다.

- 때로는 우리 버그인지 라이브러리 버그인지 찾아내느라 오랜 디버깅으로 골치를 앓는다.

외부 코드를 익히기도 어렵고 통합 하기도 어려운데, 이 두 가지를 동시에 하기에는 두 배나 어려움을 겪을 수가 있다.

간단한 테스트 케이스를 작성해서 외부 코드를 익혀보자. → 우리는 이를 **🌟학습 테스트🌟** 라고 부른다.

학습 테스트는 프로그램에서 사용하려는 방식대로 외부 API를 호출한다.

통제된 환경에서 API를 제대로 이해하는지 확인하는 셈이다. 학습 테스트는 API를 사용하려는 목적에 초점을 둔다.

<br >

---

### 🟠 log4j 익히기

아파치의 log4j라는 테스트를 통해서 코드의 명확성을 위해 테스트 한다는 내용들임…

<br >

---

### 🟠 학습 테스트는 공짜 이상이다

학습 테스트는 이해도를 높여주는 정확한 실험이다.

<br >

---

### 🟠 아직 존재하지 않는 코드를 사용하기

경계와 관련해 또 다른 유형은 아는 코드와 모르는 코드를 분리하는 경계다.

때로는 우리의 지식이 경계를 너머 미치지 못하는 코드 영역도 있다.

<br>

이 내용을 요약하자면, **사용할 api나 메서드, 함수 등등을 캡슐화**하자. 그럼 내용이 바뀔 때 수정할 코드를 한곳으로 모았기 때문에 바꾸면서 테스트도 아주 편하게 진행될 수가 있다.

그럼 API 인터페이스가 나온 다음 경계 테스트 케이스를 생성해 우리가 API를 올바로 사용하는지 테스트할 수도 있다.

<br>

경계에 위치하는 **코드는 깔끔히 분리한다. 또한 기대치를 정의하는 테스트 케이스도 작성** 한다.

외부 패키지가 호출하는 코드를 가능한 줄여서 경계를 관리하자.

새로운 클래스로 경계를 감싸거나 아니면 어답터 패턴을 사용해 우리가 원하는 인터페이스를 패키지가 제공하는 인터페이스로 변환하자. 어느 방법이든 코드 가독성이 높아지며, 경계 인터페이스를 사용하는 일관성도 높아지며, 외부 패키지가 변했을 때 변경할 코드도 줄어든다.
